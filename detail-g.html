<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
    <title>Document</title>
    <link rel="stylesheet" href="./css/style-g.css">
    <link rel="stylesheet" href="./css/bootstrap.min.css">
    <link rel="stylesheet" href="./css/swiper.min.css">
    <link rel="stylesheet" href="./css/detail-g.css">
    <link rel="stylesheet" href="./fonts/iconfont-g.css">
    <link rel="stylesheet" href="./css/mui.min.css">

</head>

<body>
    <div class="panel panel-default">
        <div class="panel-heading">
            <a href="shopping-g.html">
                <span class="glyphicon glyphicon-menu-left">
                </span>
            </a>
            <h3 class="panel-title">
                商品详情</h3>
        </div>
        <div class="panel-body">
            <!-- banner -->
            <div id="app">
                <div class="swiper-container">
                    <div class="swiper-wrapper">
                        <div class="swiper-slide"><img :src="lists.img" alt=""></div>
                        <div class="swiper-slide"><img :src="lists.mini_img" alt=""></div>
                        <div class="swiper-slide"><img :src="lists.mini_img" alt=""></div>
                        <div class="swiper-slide"><img src="./img/detail4-g.png" alt=""></div>
                    </div>
                    <!-- 如果需要分页器 -->
                    <div class="swiper-pagination"></div>
                </div>
                <!-- 价格 -->
                <div class="price">{{lists.newprice}} <span>{{lists.oldprice}}</span></div>
                <div class="title"> {{lists.title}}</div>
                <!--产品  -->
                <div class="product">
                    <ul class="clearfix">
                        <li class="introduce">
                            <img :src="iconImg[0]" alt="" class="introduce-img">
                            <p>{{iconTitle[0]}}</p>
                            <p class="introduce-text">{{txt[0]}}</p>
                        </li>
                        <li class="introduce">
                            <img :src="iconImg[1]" alt="" class="introduce-img">
                            <p>{{iconTitle[1]}}</p>
                            <p class="introduce-text">{{txt[1]}}</p>
                        </li>
                        <li class="introduce">
                            <img :src="iconImg[2]" alt="" class="introduce-img">
                            <p>{{iconTitle[2]}}</p>
                            <p class="introduce-text">{{txt[2]}}</p>
                        </li>
                        <li class="introduce">
                            <img :src="iconImg[3]" alt="" class="introduce-img">
                            <p>{{iconTitle[3]}}</p>
                            <p class="introduce-text">{{txt[3]}}</p>
                        </li>
                    </ul>
                </div>
                <!-- 数量 -->
                <div class="number">
                    <p class="number-name">数量</p>
                    <div class="mui-numbox" data-numbox-step='1' data-numbox-min='1' data-numbox-max='100'>
                        <button class="mui-btn mui-numbox-btn-minus" type="button">-</button>
                        <input class="mui-numbox-input" type="number" />
                        <button class="mui-btn mui-numbox-btn-plus" type="button">+</button>
                    </div>
                </div>
                <!-- 权益 -->
                <div class="product-adv">
                    <div class="clearfix">
                        <p><img src="./img/adv1-g.png" alt="" class="equity"> 正品保证</p>
                        <p><img src="./img/adv2-g.png" alt="" class="equity">闪电发货</p>
                        <p><img src="./img/adv3-g.png" alt="" class="equity">七天无理由退货（拆封后不支持）</p>
                    </div>
                </div>
                <!-- 评价 -->
                <div class="appraise">
                    <div class="clearfix"><span>商品评价</span>
                        <p>
                            <span>0</span>
                            <span class="glyphicon glyphicon-menu-right">
                            </span>
                        </p>
                    </div>
                </div>
                <!-- 商品详情 规格参数 -->
                <div style="padding: 10px 10px;touch-action: none;">
                    <div id="segmentedControl"
                        class="mui-segmented-control mui-segmented-control-inverted mui-segmented-control-negative">
                        <a class="mui-control-item mui-active" style="text-decoration: none;" href="#item2">商品详情</a>
                        <a class="mui-control-item" style="text-decoration: none;" href="#item3">产品参数</a>
                    </div>
                </div>
                <!-- 商品 规格 -->
                <div class="item">
                    <div id="item2" class="mui-control-content mui-active">
                        <ul class="mui-table-view">
                            <li class="mui-table-view-cell mui-table-view-cell-item" v-html="lists.content1">
                            </li>
                        </ul>
                    </div>
                    <div id="item3" class="mui-control-content">
                        <ul class="mui-table-view">
                            <li class="mui-table-view-cell mui-table-view-cell-item" v-html="lists.content2">

                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <!-- footer -->
        <div class="footer">
            <ul>
                <li>
                    <a href="">
                        <span class="iconfont
                    icon-home"></span>
                        <p>首页</p>
                    </a>
                </li>
                <li>
                    <a href="">
                        <span class="mui-icon mui-icon-chat"></span>
                        <p>客服</p>
                    </a>
                </li>
                <li>
                    <a href="shopping-g.html">
                        <span class="iconfont
                    icon-Shoppingcart"></span>
                        <span class="count">1</span>
                        <img src="./img/detail5-g.png" alt="" class="count-img">
                        <p>购物车</p>
                    </a>
                </li>
                <li class="add">
                    <a href="#">
                        加入购物车
                    </a>
                </li>
            </ul>
        </div>
        <script src="./js/mui.min.js"></script>
        <script src="./js/zepto.min.js"></script>
        <script src="./js/vue.js"></script>
        <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
        <script src="./js/swiper.min.js"></script>
        <script>
            var id=window.location.search.substring(4)
            new Vue({
                el: "#app",
                data: {
                    lists: [],
                    txt: [],
                    iconImg: [],
                    iconTitle: [],
                },
                created() {
                    axios.get("http://localhost:3000/detail-g", {
                        params: {
                            id: id
                        }
                    }).then(res => {
                        console.log(res.data.data)
                        this.lists = res.data.data[0]
                        this.txt = res.data.data[0].icon_txt.split('*')
                        this.iconImg = res.data.data[0].icon_list.split("*")
                        this.iconTitle = res.data.data[0].icon_title.split("*")
                    }).catch(err => {
                        console.log(err)
                    })
                }

            })
            // 轮播图
            var mySwiper = new Swiper('.swiper-container', {
                autoplay: 5000,//可选选项，自动滑动
                direction: 'horizontal',
                loop: true,
                speed: 300,

                // 如果需要分页器
                pagination: '.swiper-pagination',
            })
            // 加入购物车
            $(".add").on('click', () => {
             var num=$(".mui-numbox-input")[0].value
                axios.get("http://localhost:3000/detail-g/add",{
                    params:{
                        id:id,
                        num:num
                    }
                }).then(res=>{}).catch(err=>{
                    console.log(err)
                })
            })
        </script>
</body>

</html>